graph TB
    %% External
    User[👤 User]
    GitHub[📁 GitHub Repository]
    
    %% Frontend Services
    subgraph "Frontend"
        Route53[🌐 Route 53<br/>DNS]
        CloudFront[⚡ CloudFront<br/>CDN]
        S3[🗂️ S3<br/>Static Files]
        ACM[🔒 Certificate Manager<br/>SSL/TLS]
    end
    
    %% Backend Services  
    subgraph "Backend"
        Lambda[⚙️ Lambda<br/>Function URL]
        DynamoDB[🗄️ DynamoDB<br/>Counter Table]
    end
    
    %% CI/CD
    subgraph "CI/CD"
        Actions[🔄 GitHub Actions<br/>Pipeline]
    end
    
    %% User Flow
    User -->|1. Visit website| Route53
    Route53 -->|2. Route traffic| CloudFront
    CloudFront -->|3. Serve content| S3
    CloudFront -->|4. Return to| User
    
    %% SSL
    ACM -.->|Provides SSL| CloudFront
    
    %% Counter Flow
    User -->|5. Page loads JS| Lambda
    Lambda -->|6. Update count| DynamoDB
    Lambda -->|7. Return count| User
    
    %% CI/CD Flow
    GitHub -->|Push code| Actions
    Actions -->|Deploy| S3
    Actions -.->|Invalidate cache| CloudFront
    
    %% Styling
    classDef aws fill:#FF9900,stroke:#232F3E,stroke-width:2px,color:#fff
    classDef frontend fill:#4CAF50,stroke:#2E7D32,stroke-width:2px,color:#fff  
    classDef backend fill:#2196F3,stroke:#1565C0,stroke-width:2px,color:#fff
    classDef cicd fill:#9C27B0,stroke:#4A148C,stroke-width:2px,color:#fff
    classDef external fill:#607D8B,stroke:#37474F,stroke-width:2px,color:#fff
    
    class Route53,CloudFront,S3,ACM,Lambda,DynamoDB aws
    class User,GitHub external